# 10장

> 하지만 때로는 변수나 유틸리티 함수를 protected로 선언해 테스트 코드에 접근을 허용한다.다만 이전에 비공개 상태를 유지할 온갖 방법을 강구한 후 캡슐화를 해제하는 결정은 최후의 수단에 한다.

정수님과 이야기한부분이 나와 적어봅니다


> 대다수 시스템은 지속적인 변경이 가해진다. 그리고 뭔가 변경할때마다 시스템이 의도대로 동작하지 않을 위험이 있다. 때문에 클래스를 분할하여 체계적으로 정리하면 단위테스트가 쉬워지고 그에 따라 변경에 수반하는 위험을 낮출 수 있다.

변하지 않는건 요구사항은 계속해서 변한다는 사실이다라는말이 떠오른다. 좋은 객체지향 설계란 변경에 용이한 객체를 만든것이라 생각한다. 
그것을 위해 한 클래스에 너무 많은 책임이 있다면 클래스 분리를 통해 변경에 더욱 용이한 객체를 만들게 되고 좋은 객체지향 설계에 다가갈 수 있다 생각한다.
하나의 책임이란 무엇일까? 관심사라고도 생각이든다. 이부분은 개발하면서 작성해나가야할거같다. 

> 상세한 구현에 의존하는 클라이언트 클래스는 구현이 바뀌면 위험에 빠진다. 그러므로 인터페이스와 추상클래스를 사용해 구현에 미치는 영향을 격리한다.

외부 라이브러리에 의존하는 코드라면 경계 즉 클래스로 감춰 쓰는게 좋을거 같다. 인터페이스를 통하면 테스트를 더욱 편리하게할 수 있다는 사실을 알게 되서 좋았던 부분이 었다.
직접적으로 의존 = 결합력이 높다. 하지만 직접적으로 의존하지 않으니 결합도가 낮아진다.


# 11장

> 제작(construction)과 사용(use)은 아주다르다는 사실을 명심하자  
> `소프트웨어 시스템은(애플리케이션 객체를 제작하고 의존성을 서로 "연결"하는) 준비 과정과 (준비 과정 이후에 이어지는) 런타임 로직을 분리해야한다`

제작 책임을 하는 객체 그리고 제작되어있는 객체들을 바탕으로 사용하는 책임을 가진 객체를 분리하자가 주제인거 같다.  
만약 제작하는게 여러군데 흩어져있고 어떤 객체를 사용하는걸바꿔야한다면? 정말끔찍하다고 생각한다. 
제작객체는 한군데서 이런 끔찍함을 없애주는 장점을 가졌다 생각한다.
제작과 사용을 분리하는 방법으로는 MAIN에서 제작해서 보내주는거나 객체가 생성되는 시점을 애플리케이션이 결정할 수 있는 추상팩토리패턴을 쓸 수 있다
또한 스프링에서 제일 중요한 개념인 DI가 있다.

> `소프트웨어 시스템은 물리적인 시스템과 다르다. 관심사를 적절히 분리해 관리 한다면 소프트웨어 아키텍처는 점진적으로 발전할 수 있다`

좋은 객체지향 설계란 변경에 용이하게 만드는것이라고 생각한다. 그것을 위해 어떻게 해야되냐 뭉러보면 관심사를 분리하여 각자의 자율적인 책임을 가지게하면 된다 생각한다.
횡단 관심사를 분리할 수 있는 방법으로 프록시,순수 자바 AOP가 있지만 제일 강력한건 Aspectj이다.

> BDUF로 진행하게되면 처음에 쏟아 부은 노력을 버리지 않으려는 심리적 저항이 생기고 변경을 쉽사리 수용하지 못하게될 수 있다.

테스트주도 시스템 아키테처 구축 파트   
내가 딱 그렇다 너무 설계에 집중하다보니 이 설계가 맞다는 생각에 다른 생각을 못하는것 하지만 아예 설계를안하고 들어가는것도 잘못됬다 생각한다. 적절한 수준을 찾아야할거같다. 
그냥 여기서 말하고자하는것은 적절하게 범위를 설정하고 POJO를 지향해 시스템을 구축하라 그러면 외부에 의해 문제가 발생되는 일이 줄어들것이다.

> 도시든 소프트웨어든 아주 큰시스템에서는 한 사람이 모든 결정을 내리기 어렵다. 
그러면 어떻게 해야할까? 가장 적합한 사람에게 책임을 맡기면 가장 좋다. 

동의하지만 참 어려운 내용인거 같다.

> 좋은 DSL은 도메인 영역의 개념과 실제 구현될 코드 사이의 "소통의 간극"을 줄여준다.

SQL, Assertions 등을 사용하여 쉽게 표현하여 소통의 간극을 줄일 수 있다가 중요한거 같다.



 
